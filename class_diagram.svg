<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1152px" preserveAspectRatio="none" style="width:1875px;height:1152px;" version="1.1" viewBox="0 0 1875 1152" width="1875px" zoomAndPan="magnify"><defs><filter height="300%" id="f9bhk7nntmfmr" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster tumcsbot--><polygon fill="#FFFFFF" filter="url(#f9bhk7nntmfmr)" points="22,253,102,253,109,275.2969,524,275.2969,524,397,22,397,22,253" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="109" y1="275.2969" y2="275.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="74" x="26" y="267.9951">tumcsbot</text><!--cluster commands.example--><polygon fill="#FFFFFF" filter="url(#f9bhk7nntmfmr)" points="740,470,902,470,909,492.2969,1299,492.2969,1299,630,740,630,740,470" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="740" x2="909" y1="492.2969" y2="492.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="156" x="744" y="484.9951">commands.example</text><!--cluster command--><polygon fill="#FFFFFF" filter="url(#f9bhk7nntmfmr)" points="661,24,743,24,750,46.2969,1607,46.2969,1607,429,661,429,661,24" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="661" x2="750" y1="46.2969" y2="46.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="76" x="665" y="38.9951">command</text><!--cluster lib--><polygon fill="#FFFFFF" filter="url(#f9bhk7nntmfmr)" points="500,679,524,679,531,701.2969,1853,701.2969,1853,1140,500,1140,500,679" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="500" x2="531" y1="701.2969" y2="701.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="504" y="693.9951">lib</text><!--class tumcsbot.TumCSBot--><rect fill="#FEFECE" filter="url(#f9bhk7nntmfmr)" height="73.6094" id="tumcsbot.TumCSBot" style="stroke: #A80036; stroke-width: 1.5;" width="470" x="38" y="307"/><ellipse cx="237.25" cy="323" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M240.2188,328.6406 Q239.6406,328.9375 239,329.0781 Q238.3594,329.2344 237.6563,329.2344 Q235.1563,329.2344 233.8281,327.5938 Q232.5156,325.9375 232.5156,322.8125 Q232.5156,319.6875 233.8281,318.0313 Q235.1563,316.375 237.6563,316.375 Q238.3594,316.375 239,316.5313 Q239.6563,316.6875 240.2188,316.9844 L240.2188,319.7031 Q239.5938,319.125 239,318.8594 Q238.4063,318.5781 237.7813,318.5781 Q236.4375,318.5781 235.75,319.6563 Q235.0625,320.7188 235.0625,322.8125 Q235.0625,324.9063 235.75,325.9844 Q236.4375,327.0469 237.7813,327.0469 Q238.4063,327.0469 239,326.7813 Q239.5938,326.5 240.2188,325.9219 L240.2188,328.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="63" x="257.75" y="327.1543">TumCSBot</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="39" x2="507" y1="339" y2="339"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="69" x="44" y="353.2104">client: Client</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="39" x2="507" y1="359.8047" y2="359.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="458" x="44" y="374.0151">__init__(zuliprc: str, db_path: str, debug: bool, logfile: Optional[str], **kwargs: str)</text><!--class commands.example.Command--><rect fill="#FEFECE" filter="url(#f9bhk7nntmfmr)" height="73.6094" id="commands.example.Command" style="stroke: #A80036; stroke-width: 1.5;" width="492" x="783" y="532"/><ellipse cx="993.75" cy="548" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M996.7188,553.6406 Q996.1406,553.9375 995.5,554.0781 Q994.8594,554.2344 994.1563,554.2344 Q991.6563,554.2344 990.3281,552.5938 Q989.0156,550.9375 989.0156,547.8125 Q989.0156,544.6875 990.3281,543.0313 Q991.6563,541.375 994.1563,541.375 Q994.8594,541.375 995.5,541.5313 Q996.1563,541.6875 996.7188,541.9844 L996.7188,544.7031 Q996.0938,544.125 995.5,543.8594 Q994.9063,543.5781 994.2813,543.5781 Q992.9375,543.5781 992.25,544.6563 Q991.5625,545.7188 991.5625,547.8125 Q991.5625,549.9063 992.25,550.9844 Q992.9375,552.0469 994.2813,552.0469 Q994.9063,552.0469 995.5,551.7813 Q996.0938,551.5 996.7188,550.9219 L996.7188,553.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="62" x="1014.25" y="552.1543">Command</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="784" x2="1274" y1="564" y2="564"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="784" x2="1274" y1="572" y2="572"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="102" x="789" y="586.2104">__init__(**kwargs)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="480" x="789" y="599.0151">handle_message(client: Client, message: Dict[str, Any], **kwargs: Any): lib.Response</text><!--class command.CommandInteractive--><rect fill="#FEFECE" filter="url(#f9bhk7nntmfmr)" height="137.6328" id="command.CommandInteractive" style="stroke: #A80036; stroke-width: 1.5;" width="492" x="924" y="275"/><ellipse cx="1104.75" cy="291" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1104.8594,286.3438 L1103.7031,291.4219 L1106.0313,291.4219 L1104.8594,286.3438 Z M1103.375,284.1094 L1106.3594,284.1094 L1109.7188,296.5 L1107.2656,296.5 L1106.5,293.4375 L1103.2188,293.4375 L1102.4688,296.5 L1100.0313,296.5 L1103.375,284.1094 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="122" x="1125.25" y="295.1543">CommandInteractive</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="925" x2="1415" y1="307" y2="307"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="60" x="930" y="321.2104">syntax: str</text><line style="stroke: #000000; stroke-width: 1.0;" x1="930" x2="990" y1="323.2104" y2="323.2104"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="86" x="930" y="334.0151">description: str</text><line style="stroke: #000000; stroke-width: 1.0;" x1="930" x2="1016" y1="336.0151" y2="336.0151"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="925" x2="1415" y1="340.6094" y2="340.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="101" x="930" y="354.8198">__init__(**kwargs)</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="480" x="930" y="367.6245">handle_message(client: Client,  message: Dict[str, Any], **kwargs: Any): lib.Response</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="358" x="930" y="380.4292">func(client: Client, event: Dict[str, Any], **kwargs): lib.Response</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="152" x="930" y="393.2339">get_usage(): Tuple[str, str]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="232" x="930" y="406.0386">is_responsible(event: Dict[str, Any]): bool</text><!--class command.Command--><rect fill="#FEFECE" filter="url(#f9bhk7nntmfmr)" height="112.0234" id="command.Command" style="stroke: #A80036; stroke-width: 1.5;" width="370" x="985" y="78"/><ellipse cx="1136.25" cy="94" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1136.3594,89.3438 L1135.2031,94.4219 L1137.5313,94.4219 L1136.3594,89.3438 Z M1134.875,87.1094 L1137.8594,87.1094 L1141.2188,99.5 L1138.7656,99.5 L1138,96.4375 L1134.7188,96.4375 L1133.9688,99.5 L1131.5313,99.5 L1134.875,87.1094 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="59" x="1156.75" y="98.1543">Command</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="986" x2="1354" y1="110" y2="110"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="55" x="991" y="124.2104">name: str</text><line style="stroke: #000000; stroke-width: 1.0;" x1="991" x2="1046" y1="126.2104" y2="126.2104"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="89" x="991" y="137.0151">events: List[str]</text><line style="stroke: #000000; stroke-width: 1.0;" x1="991" x2="1080" y1="139.0151" y2="139.0151"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="986" x2="1354" y1="143.6094" y2="143.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="101" x="991" y="157.8198">__init__(**kwargs)</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="358" x="991" y="170.6245">func(client: Client, event: Dict[str, Any], **kwargs): lib.Response</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="232" x="991" y="183.4292">is_responsible(event: Dict[str, Any]): bool</text><!--class command.CommandDaemon--><rect fill="#FEFECE" filter="url(#f9bhk7nntmfmr)" height="124.8281" id="command.CommandDaemon" style="stroke: #A80036; stroke-width: 1.5;" width="212" x="677" y="281.5"/><ellipse cx="725.25" cy="297.5" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M725.3594,292.8438 L724.2031,297.9219 L726.5313,297.9219 L725.3594,292.8438 Z M723.875,290.6094 L726.8594,290.6094 L730.2188,303 L727.7656,303 L727,299.9375 L723.7188,299.9375 L722.9688,303 L720.5313,303 L723.875,290.6094 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="107" x="745.75" y="301.6543">CommandDaemon</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="678" x2="888" y1="313.5" y2="313.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="69" x="683" y="327.7104">client: Client</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="127" x="683" y="340.5151">logger: logging.Logger</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="678" x2="888" y1="347.1094" y2="347.1094"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="196" x="683" y="361.3198">__init__(zuliprc: str, **kwargs: Any)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="683" y="374.1245">wait_for_event()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="200" x="683" y="386.9292">event_callback(event: Dict[str, Any])</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="35" x="683" y="399.7339">start()</text><!--class command.CommandOneShot--><rect fill="#FEFECE" filter="url(#f9bhk7nntmfmr)" height="48" id="command.CommandOneShot" style="stroke: #A80036; stroke-width: 1.5;" width="140" x="1451" y="320"/><ellipse cx="1466" cy="336" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1466.1094,331.3438 L1464.9531,336.4219 L1467.2813,336.4219 L1466.1094,331.3438 Z M1464.625,329.1094 L1467.6094,329.1094 L1470.9688,341.5 L1468.5156,341.5 L1467.75,338.4375 L1464.4688,338.4375 L1463.7188,341.5 L1461.2813,341.5 L1464.625,329.1094 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="108" x="1480" y="340.1543">CommandOneShot</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1452" x2="1590" y1="352" y2="352"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1452" x2="1590" y1="360" y2="360"/><!--class lib.StrEnum--><rect fill="#FEFECE" filter="url(#f9bhk7nntmfmr)" height="48" id="lib.StrEnum" style="stroke: #A80036; stroke-width: 1.5;" width="85" x="611.5" y="773"/><ellipse cx="626.5" cy="789" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M630.6094,795 L622.8906,795 L622.8906,782.6094 L630.6094,782.6094 L630.6094,784.7656 L625.3438,784.7656 L625.3438,787.4375 L630.1094,787.4375 L630.1094,789.5938 L625.3438,789.5938 L625.3438,792.8438 L630.6094,792.8438 L630.6094,795 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="53" x="640.5" y="793.1543">StrEnum</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="612.5" x2="695.5" y1="805" y2="805"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="612.5" x2="695.5" y1="813" y2="813"/><!--class lib.DB--><rect fill="#FEFECE" filter="url(#f9bhk7nntmfmr)" height="112.0234" id="lib.DB" style="stroke: #A80036; stroke-width: 1.5;" width="405" x="1118.5" y="741"/><ellipse cx="1308.25" cy="757" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1311.2188,762.6406 Q1310.6406,762.9375 1310,763.0781 Q1309.3594,763.2344 1308.6563,763.2344 Q1306.1563,763.2344 1304.8281,761.5938 Q1303.5156,759.9375 1303.5156,756.8125 Q1303.5156,753.6875 1304.8281,752.0313 Q1306.1563,750.375 1308.6563,750.375 Q1309.3594,750.375 1310,750.5313 Q1310.6563,750.6875 1311.2188,750.9844 L1311.2188,753.7031 Q1310.5938,753.125 1310,752.8594 Q1309.4063,752.5781 1308.7813,752.5781 Q1307.4375,752.5781 1306.75,753.6563 Q1306.0625,754.7188 1306.0625,756.8125 Q1306.0625,758.9063 1306.75,759.9844 Q1307.4375,761.0469 1308.7813,761.0469 Q1309.4063,761.0469 1310,760.7813 Q1310.5938,760.5 1311.2188,759.9219 L1311.2188,762.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="17" x="1328.75" y="761.1543">DB</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1119.5" x2="1522.5" y1="773" y2="773"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="103" x="1124.5" y="787.2104">path: Optional[str]</text><line style="stroke: #000000; stroke-width: 1.0;" x1="1124.5" x2="1227.5" y1="789.2104" y2="789.2104"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1119.5" x2="1522.5" y1="793.8047" y2="793.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="49" x="1124.5" y="808.0151">__init__()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="218" x="1124.5" y="820.8198">checkout_table(table: str, schema: str)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="393" x="1124.5" y="833.6245">checkout_row(table: str, key_column: str, key: str, default_values: str)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="324" x="1124.5" y="846.4292">execute(command: str, commit: bool): List[Tuple[Any, ...]]</text><!--class lib.Helper--><rect fill="#FEFECE" filter="url(#f9bhk7nntmfmr)" height="73.6094" id="lib.Helper" style="stroke: #A80036; stroke-width: 1.5;" width="270" x="1559" y="760"/><ellipse cx="1669.25" cy="776" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1672.2188,781.6406 Q1671.6406,781.9375 1671,782.0781 Q1670.3594,782.2344 1669.6563,782.2344 Q1667.1563,782.2344 1665.8281,780.5938 Q1664.5156,778.9375 1664.5156,775.8125 Q1664.5156,772.6875 1665.8281,771.0313 Q1667.1563,769.375 1669.6563,769.375 Q1670.3594,769.375 1671,769.5313 Q1671.6563,769.6875 1672.2188,769.9844 L1672.2188,772.7031 Q1671.5938,772.125 1671,771.8594 Q1670.4063,771.5781 1669.7813,771.5781 Q1668.4375,771.5781 1667.75,772.6563 Q1667.0625,773.7188 1667.0625,775.8125 Q1667.0625,777.9063 1667.75,778.9844 Q1668.4375,780.0469 1669.7813,780.0469 Q1670.4063,780.0469 1671,779.7813 Q1671.5938,779.5 1672.2188,778.9219 L1672.2188,781.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="41" x="1689.75" y="780.1543">Helper</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1560" x2="1828" y1="792" y2="792"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1560" x2="1828" y1="800" y2="800"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="128" x="1565" y="814.2104">get_help(user: str): str</text><line style="stroke: #000000; stroke-width: 1.0;" x1="1565" x2="1693" y1="816.2104" y2="816.2104"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="258" x="1565" y="827.0151">extend_command_docs(docs: List[Tuple[str]])</text><line style="stroke: #000000; stroke-width: 1.0;" x1="1565" x2="1823" y1="829.0151" y2="829.0151"/><!--class lib.Response--><rect fill="#FEFECE" filter="url(#f9bhk7nntmfmr)" height="201.6563" id="lib.Response" style="stroke: #A80036; stroke-width: 1.5;" width="983" x="845.5" y="914"/><ellipse cx="1301.75" cy="930" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1304.7188,935.6406 Q1304.1406,935.9375 1303.5,936.0781 Q1302.8594,936.2344 1302.1563,936.2344 Q1299.6563,936.2344 1298.3281,934.5938 Q1297.0156,932.9375 1297.0156,929.8125 Q1297.0156,926.6875 1298.3281,925.0313 Q1299.6563,923.375 1302.1563,923.375 Q1302.8594,923.375 1303.5,923.5313 Q1304.1563,923.6875 1304.7188,923.9844 L1304.7188,926.7031 Q1304.0938,926.125 1303.5,925.8594 Q1302.9063,925.5781 1302.2813,925.5781 Q1300.9375,925.5781 1300.25,926.6563 Q1299.5625,927.7188 1299.5625,929.8125 Q1299.5625,931.9063 1300.25,932.9844 Q1300.9375,934.0469 1302.2813,934.0469 Q1302.9063,934.0469 1303.5,933.7813 Q1304.0938,933.5 1304.7188,932.9219 L1304.7188,935.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="62" x="1322.25" y="934.1543">Response</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="846.5" x2="1827.5" y1="946" y2="946"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="846.5" x2="1827.5" y1="954" y2="954"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="357" x="851.5" y="968.2104">__init__(message_type: MessageType, response: Dict[str, Any])</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="851.5" y="981.0151">is_none(): bool</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="971" x="851.5" y="993.8198">build_message(message: Optional[Dict[str, Any]], content: str, msg_type: Optional[str] = None, to: Optional[Union[str, int]] = None, subject: Optional[str] = None): Response</text><line style="stroke: #000000; stroke-width: 1.0;" x1="851.5" x2="1822.5" y1="995.8198" y2="995.8198"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="343" x="851.5" y="1006.6245">build_reaction(message: Dict[str, Any], emoji: str): Response</text><line style="stroke: #000000; stroke-width: 1.0;" x1="851.5" x2="1194.5" y1="1008.6245" y2="1008.6245"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="261" x="851.5" y="1019.4292">admin_err(message: Dict[str, Any]): Response</text><line style="stroke: #000000; stroke-width: 1.0;" x1="851.5" x2="1112.5" y1="1021.4292" y2="1021.4292"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="321" x="851.5" y="1032.2339">command_not_found(message: Dict[str, Any]): Response</text><line style="stroke: #000000; stroke-width: 1.0;" x1="851.5" x2="1172.5" y1="1034.2339" y2="1034.2339"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="232" x="851.5" y="1045.0386">error(message: Dict[str, Any]): Response</text><line style="stroke: #000000; stroke-width: 1.0;" x1="851.5" x2="1083.5" y1="1047.0386" y2="1047.0386"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="257" x="851.5" y="1057.8433">exception(message: Dict[str, Any]): Response</text><line style="stroke: #000000; stroke-width: 1.0;" x1="851.5" x2="1108.5" y1="1059.8433" y2="1059.8433"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="233" x="851.5" y="1070.6479">greet(message: Dict[str, Any]): Response</text><line style="stroke: #000000; stroke-width: 1.0;" x1="851.5" x2="1084.5" y1="1072.6479" y2="1072.6479"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="216" x="851.5" y="1083.4526">ok(message: Dict[str, Any]): Response</text><line style="stroke: #000000; stroke-width: 1.0;" x1="851.5" x2="1067.5" y1="1085.4526" y2="1085.4526"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="217" x="851.5" y="1096.2573">no(message: Dict[str, Any]): Response</text><line style="stroke: #000000; stroke-width: 1.0;" x1="851.5" x2="1068.5" y1="1098.2573" y2="1098.2573"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="99" x="851.5" y="1109.062">none(): Response</text><line style="stroke: #000000; stroke-width: 1.0;" x1="851.5" x2="950.5" y1="1111.062" y2="1111.062"/><!--class lib.Regex--><rect fill="#FEFECE" filter="url(#f9bhk7nntmfmr)" height="73.6094" id="lib.Regex" style="stroke: #A80036; stroke-width: 1.5;" width="126" x="532" y="978"/><ellipse cx="572.2" cy="994" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M576.3094,1000 L568.5906,1000 L568.5906,987.6094 L576.3094,987.6094 L576.3094,989.7656 L571.0438,989.7656 L571.0438,992.4375 L575.8094,992.4375 L575.8094,994.5938 L571.0438,994.5938 L571.0438,997.8438 L576.3094,997.8438 L576.3094,1000 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="38" x="591.8" y="998.1543">Regex</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="533" x2="657" y1="1010" y2="1010"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="114" x="538" y="1024.2104">OPT_ASTERISKS: str</text><line style="stroke: #000000; stroke-width: 1.0;" x1="538" x2="652" y1="1026.2104" y2="1026.2104"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="68" x="538" y="1037.0151">STREAM: str</text><line style="stroke: #000000; stroke-width: 1.0;" x1="538" x2="606" y1="1039.0151" y2="1039.0151"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="533" x2="657" y1="1043.6094" y2="1043.6094"/><!--class lib.MessageType--><rect fill="#FEFECE" filter="url(#f9bhk7nntmfmr)" height="86.4141" id="lib.MessageType" style="stroke: #A80036; stroke-width: 1.5;" width="117" x="693.5" y="972"/><ellipse cx="708.5" cy="988" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M712.6094,994 L704.8906,994 L704.8906,981.6094 L712.6094,981.6094 L712.6094,983.7656 L707.3438,983.7656 L707.3438,986.4375 L712.1094,986.4375 L712.1094,988.5938 L707.3438,988.5938 L707.3438,991.8438 L712.6094,991.8438 L712.6094,994 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="85" x="722.5" y="992.1543">MessageType</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="694.5" x2="809.5" y1="1004" y2="1004"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="78" x="699.5" y="1018.2104">MESSAGE: str</text><line style="stroke: #000000; stroke-width: 1.0;" x1="699.5" x2="777.5" y1="1020.2104" y2="1020.2104"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="54" x="699.5" y="1031.0151">EMOJI: str</text><line style="stroke: #000000; stroke-width: 1.0;" x1="699.5" x2="753.5" y1="1033.0151" y2="1033.0151"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="55" x="699.5" y="1043.8198">NONE: str</text><line style="stroke: #000000; stroke-width: 1.0;" x1="699.5" x2="754.5" y1="1045.8198" y2="1045.8198"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="694.5" x2="809.5" y1="1050.4141" y2="1050.4141"/><!--link command.CommandInteractive to commands.example.Command--><path d="M1116.2,430.09 C1093.87,465.41 1069.16,504.48 1051.77,531.99 " fill="none" id="command.CommandInteractive-commands.example.Command" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1110.32,426.28,1126.93,413.12,1122.16,433.76,1110.32,426.28" style="stroke: #A80036; stroke-width: 1.0;"/><!--link command.Command to command.CommandDaemon--><path d="M999.9,198.12 C968.27,212.08 936.05,227.88 907,245 C889.03,255.59 870.81,268.52 854.06,281.49 " fill="none" id="command.Command-command.CommandDaemon" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="997.3,191.62,1018.44,190.11,1002.85,204.47,997.3,191.62" style="stroke: #A80036; stroke-width: 1.0;"/><!--link command.Command to command.CommandOneShot--><path d="M1353.1,198.54 C1381.35,211.89 1409.3,227.37 1434,245 C1463.08,265.75 1489.21,297.91 1505.08,319.68 " fill="none" id="command.Command-command.CommandOneShot" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1349.82,204.74,1334.53,190.07,1355.63,192,1349.82,204.74" style="stroke: #A80036; stroke-width: 1.0;"/><!--link command.Command to command.CommandInteractive--><path d="M1170,210.21 C1170,231.34 1170,254.2 1170,274.9 " fill="none" id="command.Command-command.CommandInteractive" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1163,210.19,1170,190.19,1177,210.19,1163,210.19" style="stroke: #A80036; stroke-width: 1.0;"/><!--link lib.StrEnum to lib.Regex--><path d="M642.36,840.61 C631.42,880.68 615.22,939.99 604.89,977.81 " fill="none" id="lib.StrEnum-lib.Regex" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="635.66,838.56,647.69,821.12,649.17,842.25,635.66,838.56" style="stroke: #A80036; stroke-width: 1.0;"/><!--link lib.StrEnum to lib.MessageType--><path d="M672.79,839.42 C690.05,877.45 715.5,933.55 732.86,971.82 " fill="none" id="lib.StrEnum-lib.MessageType" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="666.38,842.22,664.49,821.12,679.13,836.44,666.38,842.22" style="stroke: #A80036; stroke-width: 1.0;"/><!--link tumcsbot.TumCSBot to command.CommandDaemon--><path d="M521.38,344 C576.17,344 631.36,344 676.83,344 " fill="none" id="tumcsbot.TumCSBot-command.CommandDaemon" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="508.22,344,514.22,348,520.22,344,514.22,340,508.22,344" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="132" x="526.5" y="337.0669">commands_daemon</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="662.1188" y="340.5503">*</text><!--link tumcsbot.TumCSBot to command.CommandInteractive--><path d="M361.88,301.72 C415.82,278.43 486.81,251.9 553,240 C591.94,233 899.39,243.52 907,245 C941.96,251.8 978.37,262.77 1012.55,274.99 " fill="none" id="tumcsbot.TumCSBot-command.CommandInteractive" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="349.95,306.94,357.0491,308.206,360.9481,302.1399,353.849,300.8739,349.95,306.94" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="146" x="554" y="233.0669">commands_interactive</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="987.9461" y="263.716">*</text><!--link tumcsbot.TumCSBot to command.CommandOneShot--><path d="M405.47,303.36 C479.84,282.28 574.77,258.23 661,245 C745.9,231.98 1355.91,209.24 1434,245 C1467.49,260.34 1493.27,295.54 1507.79,319.56 " fill="none" id="tumcsbot.TumCSBot-command.CommandOneShot" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="392.77,306.98,399.6357,309.185,404.3118,303.6955,397.4461,301.4905,392.77,306.98" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="131" x="753.5" y="233.0669">commands_oneshot</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1496.7169" y="308.8577">*</text><!--link tumcsbot.TumCSBot to lib--><path d="M291.83,381.14 C319.495,434.235 372.9125,536.75 419.7225,626.5838 C443.1275,671.5006 464.8806,713.2472 480.9369,744.0608 C484.9509,751.7642 488.6089,758.7843 491.8477,764.9998 C493.4671,768.1075 494.9816,771.0141 496.3835,773.7044 C497.0844,775.0495 497.7571,776.3406 498.4007,777.5757 C498.7225,778.1932 499.037,778.7968 499.3441,779.3861 C499.4976,779.6807 499.6493,779.9718 499.7991,780.2594 " fill="none" id="tumcsbot.TumCSBot-lib" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="499.7991,780.2594,499.1875,770.4295,497.4886,775.8252,492.0929,774.1264,499.7991,780.2594" style="stroke: #A80036; stroke-width: 1.0;"/><!--link commands.example to lib--><path d="M739.553,570.3626 C739.3986,570.3716 739.2423,570.3807 739.0841,570.39 C734.0211,570.6886 726.994,571.2081 718.5042,572.1056 C701.5247,573.9006 678.6944,577.2075 654.0238,583.2825 C604.6825,595.4325 547.98,618.655 516,663 C498.95,686.64 496.745,719.2275 498.9025,746.2288 C499.1722,749.6039 499.51,752.8918 499.8956,756.064 C499.9197,756.2622 499.944,756.4601 499.9684,756.6574 " fill="none" id="commands.example-lib" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="499.9684,756.6574,502.8309,747.2337,499.3533,751.6954,494.8916,748.2178,499.9684,756.6574" style="stroke: #A80036; stroke-width: 1.0;"/><!--link lib.DB to lib.Helper--><!--link lib.DB to lib.Response--><!--
@startuml

class tumcsbot.TumCSBot {
client: Client
__init__(zuliprc: str, db_path: str, debug: bool, logfile: Optional[str], **kwargs: str)
}

class commands.example.Command extends command.CommandInteractive {
__init__(**kwargs)
handle_message(client: Client, message: Dict[str, Any], **kwargs: Any): lib.Response
}

abstract class command.Command {
{static} name: str
{static} events: List[str]
{abstract} __init__(**kwargs)
{abstract} func(client: Client, event: Dict[str, Any], **kwargs): lib.Response
is_responsible(event: Dict[str, Any]): bool
}

abstract class command.CommandDaemon extends command.Command {
client: Client
logger: logging.Logger
{abstract} __init__(zuliprc: str, **kwargs: Any)
wait_for_event()
event_callback(event: Dict[str, Any])
start()
}

abstract class command.CommandOneShot extends command.Command {
}

abstract class command.CommandInteractive extends command.Command {
{static} syntax: str
{static} description: str
{abstract} __init__(**kwargs)
{abstract} handle_message(client: Client,  message: Dict[str, Any], **kwargs: Any): lib.Response
func(client: Client, event: Dict[str, Any], **kwargs): lib.Response
get_usage(): Tuple[str, str]
is_responsible(event: Dict[str, Any]): bool
}

enum lib.StrEnum

class lib.DB {
{static} path: Optional[str]
__init__()
checkout_table(table: str, schema: str)
checkout_row(table: str, key_column: str, key: str, default_values: str)
execute(command: str, commit: bool): List[Tuple[Any, ...]]
}

class lib.Helper {
{static} get_help(user: str): str
{static} extend_command_docs(docs: List[Tuple[str]])
}

class lib.Response {
__init__(message_type: MessageType, response: Dict[str, Any])
is_none(): bool
{static} build_message(message: Optional[Dict[str, Any]], content: str, msg_type: Optional[str] = None, to: Optional[Union[str, int]] = None, subject: Optional[str] = None): Response
{static} build_reaction(message: Dict[str, Any], emoji: str): Response
{static} admin_err(message: Dict[str, Any]): Response
{static} command_not_found(message: Dict[str, Any]): Response
{static} error(message: Dict[str, Any]): Response
{static} exception(message: Dict[str, Any]): Response
{static} greet(message: Dict[str, Any]): Response
{static} ok(message: Dict[str, Any]): Response
{static} no(message: Dict[str, Any]): Response
{static} none(): Response
}

enum lib.Regex extends lib.StrEnum {
{static} OPT_ASTERISKS: str
{static} STREAM: str
}

enum lib.MessageType extends lib.StrEnum {
{static} MESSAGE: str
{static} EMOJI: str
{static} NONE: str
}

tumcsbot.TumCSBot o- "*" command.CommandDaemon : commands_daemon
tumcsbot.TumCSBot o- "*" command.CommandInteractive : commands_interactive
tumcsbot.TumCSBot o- "*" command.CommandOneShot : commands_oneshot
tumcsbot.TumCSBot -down-> lib
commands.example -down-> lib

@enduml

PlantUML version 1.2019.01(Sat Feb 09 16:32:04 CET 2019)
(LGPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 15.0.1+9
Operating System: Linux
OS Version: 5.9.15-200.fc33.x86_64
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>