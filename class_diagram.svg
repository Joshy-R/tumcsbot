<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1057px" preserveAspectRatio="none" style="width:1510px;height:1057px;" version="1.1" viewBox="0 0 1510 1057" width="1510px" zoomAndPan="magnify"><defs><filter height="300%" id="f1ak8exeugdxuh" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster tumcsbot--><polygon fill="#FFFFFF" filter="url(#f1ak8exeugdxuh)" points="22,43,102,43,109,65.2969,524,65.2969,524,168,22,168,22,43" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="109" y1="65.2969" y2="65.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="74" x="26" y="57.9951">tumcsbot</text><!--cluster commands.example1--><polygon fill="#FFFFFF" filter="url(#f1ak8exeugdxuh)" points="979,452,1151,452,1158,474.2969,1478,474.2969,1478,593,979,593,979,452" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="979" x2="1158" y1="474.2969" y2="474.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="166" x="983" y="466.9951">commands.example1</text><!--cluster command--><polygon fill="#FFFFFF" filter="url(#f1ak8exeugdxuh)" points="548,24,630,24,637,46.2969,1134,46.2969,1134,411,548,411,548,24" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="548" x2="637" y1="46.2969" y2="46.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="76" x="552" y="38.9951">command</text><!--cluster commands.example2--><polygon fill="#FFFFFF" filter="url(#f1ak8exeugdxuh)" points="318,452,490,452,497,474.2969,939,474.2969,939,593,318,593,318,452" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="318" x2="497" y1="474.2969" y2="474.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="166" x="322" y="466.9951">commands.example2</text><!--cluster lib--><polygon fill="#FFFFFF" filter="url(#f1ak8exeugdxuh)" points="318,642,342,642,349,664.2969,1488,664.2969,1488,1045,318,1045,318,642" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="318" x2="349" y1="664.2969" y2="664.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="322" y="656.9951">lib</text><!--class tumcsbot.TumCSBot--><rect fill="#FEFECE" filter="url(#f1ak8exeugdxuh)" height="73.6094" id="tumcsbot.TumCSBot" style="stroke: #A80036; stroke-width: 1.5;" width="470" x="38" y="78"/><ellipse cx="237.25" cy="94" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M240.2188,99.6406 Q239.6406,99.9375 239,100.0781 Q238.3594,100.2344 237.6563,100.2344 Q235.1563,100.2344 233.8281,98.5938 Q232.5156,96.9375 232.5156,93.8125 Q232.5156,90.6875 233.8281,89.0313 Q235.1563,87.375 237.6563,87.375 Q238.3594,87.375 239,87.5313 Q239.6563,87.6875 240.2188,87.9844 L240.2188,90.7031 Q239.5938,90.125 239,89.8594 Q238.4063,89.5781 237.7813,89.5781 Q236.4375,89.5781 235.75,90.6563 Q235.0625,91.7188 235.0625,93.8125 Q235.0625,95.9063 235.75,96.9844 Q236.4375,98.0469 237.7813,98.0469 Q238.4063,98.0469 239,97.7813 Q239.5938,97.5 240.2188,96.9219 L240.2188,99.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="63" x="257.75" y="98.1543">TumCSBot</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="39" x2="507" y1="110" y2="110"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="69" x="44" y="124.2104">client: Client</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="39" x2="507" y1="130.8047" y2="130.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="458" x="44" y="145.0151">__init__(zuliprc: str, db_path: str, debug: bool, logfile: Optional[str], **kwargs: str)</text><!--class commands.example1.Command--><rect fill="#FEFECE" filter="url(#f1ak8exeugdxuh)" height="73.6094" id="commands.example1.Command" style="stroke: #A80036; stroke-width: 1.5;" width="431" x="1022.5" y="495"/><ellipse cx="1202.75" cy="511" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1205.7188,516.6406 Q1205.1406,516.9375 1204.5,517.0781 Q1203.8594,517.2344 1203.1563,517.2344 Q1200.6563,517.2344 1199.3281,515.5938 Q1198.0156,513.9375 1198.0156,510.8125 Q1198.0156,507.6875 1199.3281,506.0313 Q1200.6563,504.375 1203.1563,504.375 Q1203.8594,504.375 1204.5,504.5313 Q1205.1563,504.6875 1205.7188,504.9844 L1205.7188,507.7031 Q1205.0938,507.125 1204.5,506.8594 Q1203.9063,506.5781 1203.2813,506.5781 Q1201.9375,506.5781 1201.25,507.6563 Q1200.5625,508.7188 1200.5625,510.8125 Q1200.5625,512.9063 1201.25,513.9844 Q1201.9375,515.0469 1203.2813,515.0469 Q1203.9063,515.0469 1204.5,514.7813 Q1205.0938,514.5 1205.7188,513.9219 L1205.7188,516.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="62" x="1223.25" y="515.1543">Command</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1023.5" x2="1452.5" y1="527" y2="527"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1023.5" x2="1452.5" y1="535" y2="535"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="102" x="1028.5" y="549.2104">__init__(**kwargs)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="419" x="1028.5" y="562.0151">func(client: Client, event: Dict[str, Any], **kwargs): Tuple[str, Dict[str, Any]]</text><!--class command.Command--><rect fill="#FEFECE" filter="url(#f1ak8exeugdxuh)" height="112.0234" id="command.Command" style="stroke: #A80036; stroke-width: 1.5;" width="432" x="625" y="59"/><ellipse cx="807.25" cy="75" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M807.3594,70.3438 L806.2031,75.4219 L808.5313,75.4219 L807.3594,70.3438 Z M805.875,68.1094 L808.8594,68.1094 L812.2188,80.5 L809.7656,80.5 L809,77.4375 L805.7188,77.4375 L804.9688,80.5 L802.5313,80.5 L805.875,68.1094 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="59" x="827.75" y="79.1543">Command</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="626" x2="1056" y1="91" y2="91"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="55" x="631" y="105.2104">name: str</text><line style="stroke: #000000; stroke-width: 1.0;" x1="631" x2="686" y1="107.2104" y2="107.2104"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="89" x="631" y="118.0151">events: List[str]</text><line style="stroke: #000000; stroke-width: 1.0;" x1="631" x2="720" y1="120.0151" y2="120.0151"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="626" x2="1056" y1="124.6094" y2="124.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="101" x="631" y="138.8198">__init__(**kwargs)</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="420" x="631" y="151.6245">func(client: Client, event: Dict[str, Any], **kwargs): Tuple[str, Dict[str, Any]]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="232" x="631" y="164.4292">is_responsible(event: Dict[str, Any]): bool</text><!--class command.CommandInteractive--><rect fill="#FEFECE" filter="url(#f1ak8exeugdxuh)" height="163.2422" id="command.CommandInteractive" style="stroke: #A80036; stroke-width: 1.5;" width="554" x="564" y="232"/><ellipse cx="775.75" cy="248" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M775.8594,243.3438 L774.7031,248.4219 L777.0313,248.4219 L775.8594,243.3438 Z M774.375,241.1094 L777.3594,241.1094 L780.7188,253.5 L778.2656,253.5 L777.5,250.4375 L774.2188,250.4375 L773.4688,253.5 L771.0313,253.5 L774.375,241.1094 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="122" x="796.25" y="252.1543">CommandInteractive</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="565" x2="1117" y1="264" y2="264"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="55" x="570" y="278.2104">name: str</text><line style="stroke: #000000; stroke-width: 1.0;" x1="570" x2="625" y1="280.2104" y2="280.2104"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="60" x="570" y="291.0151">syntax: str</text><line style="stroke: #000000; stroke-width: 1.0;" x1="570" x2="630" y1="293.0151" y2="293.0151"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="86" x="570" y="303.8198">description: str</text><line style="stroke: #000000; stroke-width: 1.0;" x1="570" x2="656" y1="305.8198" y2="305.8198"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="171" x="570" y="316.6245">events: List[str] = ['message']</text><line style="stroke: #000000; stroke-width: 1.0;" x1="570" x2="741" y1="318.6245" y2="318.6245"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="565" x2="1117" y1="323.2188" y2="323.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="101" x="570" y="337.4292">__init__(**kwargs)</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="542" x="570" y="350.2339">handle_message(client: Client,  message: Dict[str, Any], **kwargs: Any): Tuple[str, Dict[str, Any]]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="419" x="570" y="363.0386">func(client: Client, event: Dict[str, Any], **kwargs): Tuple[str, Dict[str, Any]]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="173" x="570" y="375.8433">get_usage(self): Tuple[str, str]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="232" x="570" y="388.6479">is_responsible(event: Dict[str, Any]): bool</text><!--class commands.example2.Command--><rect fill="#FEFECE" filter="url(#f1ak8exeugdxuh)" height="73.6094" id="commands.example2.Command" style="stroke: #A80036; stroke-width: 1.5;" width="553" x="361.5" y="495"/><ellipse cx="602.75" cy="511" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M605.7188,516.6406 Q605.1406,516.9375 604.5,517.0781 Q603.8594,517.2344 603.1563,517.2344 Q600.6563,517.2344 599.3281,515.5938 Q598.0156,513.9375 598.0156,510.8125 Q598.0156,507.6875 599.3281,506.0313 Q600.6563,504.375 603.1563,504.375 Q603.8594,504.375 604.5,504.5313 Q605.1563,504.6875 605.7188,504.9844 L605.7188,507.7031 Q605.0938,507.125 604.5,506.8594 Q603.9063,506.5781 603.2813,506.5781 Q601.9375,506.5781 601.25,507.6563 Q600.5625,508.7188 600.5625,510.8125 Q600.5625,512.9063 601.25,513.9844 Q601.9375,515.0469 603.2813,515.0469 Q603.9063,515.0469 604.5,514.7813 Q605.0938,514.5 605.7188,513.9219 L605.7188,516.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="62" x="623.25" y="515.1543">Command</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="362.5" x2="913.5" y1="527" y2="527"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="362.5" x2="913.5" y1="535" y2="535"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="102" x="367.5" y="549.2104">__init__(**kwargs)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="541" x="367.5" y="562.0151">handle_message(client: Client, message: Dict[str, Any], **kwargs: Any): Tuple[str, Dict[str, Any]]</text><!--class lib.StrEnum--><rect fill="#FEFECE" filter="url(#f1ak8exeugdxuh)" height="48" id="lib.StrEnum" style="stroke: #A80036; stroke-width: 1.5;" width="85" x="431.5" y="717"/><ellipse cx="446.5" cy="733" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M450.6094,739 L442.8906,739 L442.8906,726.6094 L450.6094,726.6094 L450.6094,728.7656 L445.3438,728.7656 L445.3438,731.4375 L450.1094,731.4375 L450.1094,733.5938 L445.3438,733.5938 L445.3438,736.8438 L450.6094,736.8438 L450.6094,739 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="53" x="460.5" y="737.1543">StrEnum</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="432.5" x2="515.5" y1="749" y2="749"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="432.5" x2="515.5" y1="757" y2="757"/><!--class lib.DB--><rect fill="#FEFECE" filter="url(#f1ak8exeugdxuh)" height="112.0234" id="lib.DB" style="stroke: #A80036; stroke-width: 1.5;" width="405" x="753.5" y="685"/><ellipse cx="943.25" cy="701" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M946.2188,706.6406 Q945.6406,706.9375 945,707.0781 Q944.3594,707.2344 943.6563,707.2344 Q941.1563,707.2344 939.8281,705.5938 Q938.5156,703.9375 938.5156,700.8125 Q938.5156,697.6875 939.8281,696.0313 Q941.1563,694.375 943.6563,694.375 Q944.3594,694.375 945,694.5313 Q945.6563,694.6875 946.2188,694.9844 L946.2188,697.7031 Q945.5938,697.125 945,696.8594 Q944.4063,696.5781 943.7813,696.5781 Q942.4375,696.5781 941.75,697.6563 Q941.0625,698.7188 941.0625,700.8125 Q941.0625,702.9063 941.75,703.9844 Q942.4375,705.0469 943.7813,705.0469 Q944.4063,705.0469 945,704.7813 Q945.5938,704.5 946.2188,703.9219 L946.2188,706.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="17" x="963.75" y="705.1543">DB</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="754.5" x2="1157.5" y1="717" y2="717"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="103" x="759.5" y="731.2104">path: Optional[str]</text><line style="stroke: #000000; stroke-width: 1.0;" x1="759.5" x2="862.5" y1="733.2104" y2="733.2104"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="754.5" x2="1157.5" y1="737.8047" y2="737.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="70" x="759.5" y="752.0151">__init__(self)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="218" x="759.5" y="764.8198">checkout_table(table: str, schema: str)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="393" x="759.5" y="777.6245">checkout_row(table: str, key_column: str, key: str, default_values: str)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="324" x="759.5" y="790.4292">execute(command: str, commit: bool): List[Tuple[Any, ...]]</text><!--class lib.Helper--><rect fill="#FEFECE" filter="url(#f1ak8exeugdxuh)" height="73.6094" id="lib.Helper" style="stroke: #A80036; stroke-width: 1.5;" width="270" x="1194" y="704"/><ellipse cx="1304.25" cy="720" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1307.2188,725.6406 Q1306.6406,725.9375 1306,726.0781 Q1305.3594,726.2344 1304.6563,726.2344 Q1302.1563,726.2344 1300.8281,724.5938 Q1299.5156,722.9375 1299.5156,719.8125 Q1299.5156,716.6875 1300.8281,715.0313 Q1302.1563,713.375 1304.6563,713.375 Q1305.3594,713.375 1306,713.5313 Q1306.6563,713.6875 1307.2188,713.9844 L1307.2188,716.7031 Q1306.5938,716.125 1306,715.8594 Q1305.4063,715.5781 1304.7813,715.5781 Q1303.4375,715.5781 1302.75,716.6563 Q1302.0625,717.7188 1302.0625,719.8125 Q1302.0625,721.9063 1302.75,722.9844 Q1303.4375,724.0469 1304.7813,724.0469 Q1305.4063,724.0469 1306,723.7813 Q1306.5938,723.5 1307.2188,722.9219 L1307.2188,725.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="41" x="1324.75" y="724.1543">Helper</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1195" x2="1463" y1="736" y2="736"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1195" x2="1463" y1="744" y2="744"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="128" x="1200" y="758.2104">get_help(user: str): str</text><line style="stroke: #000000; stroke-width: 1.0;" x1="1200" x2="1328" y1="760.2104" y2="760.2104"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="258" x="1200" y="771.0151">extend_command_docs(docs: List[Tuple[str]])</text><line style="stroke: #000000; stroke-width: 1.0;" x1="1200" x2="1458" y1="773.0151" y2="773.0151"/><!--class lib.Response--><rect fill="#FEFECE" filter="url(#f1ak8exeugdxuh)" height="163.2422" id="lib.Response" style="stroke: #A80036; stroke-width: 1.5;" width="794" x="670" y="858"/><ellipse cx="1031.75" cy="874" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1034.7188,879.6406 Q1034.1406,879.9375 1033.5,880.0781 Q1032.8594,880.2344 1032.1563,880.2344 Q1029.6563,880.2344 1028.3281,878.5938 Q1027.0156,876.9375 1027.0156,873.8125 Q1027.0156,870.6875 1028.3281,869.0313 Q1029.6563,867.375 1032.1563,867.375 Q1032.8594,867.375 1033.5,867.5313 Q1034.1563,867.6875 1034.7188,867.9844 L1034.7188,870.7031 Q1034.0938,870.125 1033.5,869.8594 Q1032.9063,869.5781 1032.2813,869.5781 Q1030.9375,869.5781 1030.25,870.6563 Q1029.5625,871.7188 1029.5625,873.8125 Q1029.5625,875.9063 1030.25,876.9844 Q1030.9375,878.0469 1032.2813,878.0469 Q1032.9063,878.0469 1033.5,877.7813 Q1034.0938,877.5 1034.7188,876.9219 L1034.7188,879.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="62" x="1052.25" y="878.1543">Response</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="671" x2="1463" y1="890" y2="890"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="671" x2="1463" y1="898" y2="898"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="782" x="676" y="912.2104">build_message(message: Dict[str, Any], response: str, type: Optional[str], to: Optional[str], subject: Optional[str]): Tuple[str, Dict[str, Any]]</text><line style="stroke: #000000; stroke-width: 1.0;" x1="676" x2="1458" y1="914.2104" y2="914.2104"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="421" x="676" y="925.0151">build_reaction(message: Dict[str, Any], emoji: str): Tuple[str, Dict[str, Any]]</text><line style="stroke: #000000; stroke-width: 1.0;" x1="676" x2="1097" y1="927.0151" y2="927.0151"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="339" x="676" y="937.8198">admin_err(message: Dict[str, Any]): Tuple[str, Dict[str, Any]]</text><line style="stroke: #000000; stroke-width: 1.0;" x1="676" x2="1015" y1="939.8198" y2="939.8198"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="399" x="676" y="950.6245">command_not_found(message: Dict[str, Any]): Tuple[str, Dict[str, Any]]</text><line style="stroke: #000000; stroke-width: 1.0;" x1="676" x2="1075" y1="952.6245" y2="952.6245"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="310" x="676" y="963.4292">error(message: Dict[str, Any]): Tuple[str, Dict[str, Any]]</text><line style="stroke: #000000; stroke-width: 1.0;" x1="676" x2="986" y1="965.4292" y2="965.4292"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="335" x="676" y="976.2339">exception(message: Dict[str, Any]): Tuple[str, Dict[str, Any]]</text><line style="stroke: #000000; stroke-width: 1.0;" x1="676" x2="1011" y1="978.2339" y2="978.2339"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="311" x="676" y="989.0386">greet(message: Dict[str, Any]): Tuple[str, Dict[str, Any]]</text><line style="stroke: #000000; stroke-width: 1.0;" x1="676" x2="987" y1="991.0386" y2="991.0386"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="294" x="676" y="1001.8433">ok(message: Dict[str, Any]): Tuple[str, Dict[str, Any]]</text><line style="stroke: #000000; stroke-width: 1.0;" x1="676" x2="970" y1="1003.8433" y2="1003.8433"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="295" x="676" y="1014.6479">no(message: Dict[str, Any]): Tuple[str, Dict[str, Any]]</text><line style="stroke: #000000; stroke-width: 1.0;" x1="676" x2="971" y1="1016.6479" y2="1016.6479"/><!--class lib.Regex--><rect fill="#FEFECE" filter="url(#f1ak8exeugdxuh)" height="99.2188" id="lib.Regex" style="stroke: #A80036; stroke-width: 1.5;" width="126" x="350" y="890"/><ellipse cx="390.2" cy="906" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M394.3094,912 L386.5906,912 L386.5906,899.6094 L394.3094,899.6094 L394.3094,901.7656 L389.0438,901.7656 L389.0438,904.4375 L393.8094,904.4375 L393.8094,906.5938 L389.0438,906.5938 L389.0438,909.8438 L394.3094,909.8438 L394.3094,912 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="38" x="409.8" y="910.1543">Regex</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="351" x2="475" y1="922" y2="922"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="45" x="356" y="936.2104">FILE: str</text><line style="stroke: #000000; stroke-width: 1.0;" x1="356" x2="401" y1="938.2104" y2="938.2104"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="102" x="356" y="949.0151">FILE_CAPTURE: str</text><line style="stroke: #000000; stroke-width: 1.0;" x1="356" x2="458" y1="951.0151" y2="951.0151"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="114" x="356" y="961.8198">OPT_ASTERISKS: str</text><line style="stroke: #000000; stroke-width: 1.0;" x1="356" x2="470" y1="963.8198" y2="963.8198"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="68" x="356" y="974.6245">STREAM: str</text><line style="stroke: #000000; stroke-width: 1.0;" x1="356" x2="424" y1="976.6245" y2="976.6245"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="351" x2="475" y1="981.2188" y2="981.2188"/><!--class lib.ResponseType--><rect fill="#FEFECE" filter="url(#f1ak8exeugdxuh)" height="86.4141" id="lib.ResponseType" style="stroke: #A80036; stroke-width: 1.5;" width="123" x="511.5" y="896.5"/><ellipse cx="526.5" cy="912.5" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M530.6094,918.5 L522.8906,918.5 L522.8906,906.1094 L530.6094,906.1094 L530.6094,908.2656 L525.3438,908.2656 L525.3438,910.9375 L530.1094,910.9375 L530.1094,913.0938 L525.3438,913.0938 L525.3438,916.3438 L530.6094,916.3438 L530.6094,918.5 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="91" x="540.5" y="916.6543">ResponseType</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="512.5" x2="633.5" y1="928.5" y2="928.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="78" x="517.5" y="942.7104">MESSAGE: str</text><line style="stroke: #000000; stroke-width: 1.0;" x1="517.5" x2="595.5" y1="944.7104" y2="944.7104"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="54" x="517.5" y="955.5151">EMOJI: str</text><line style="stroke: #000000; stroke-width: 1.0;" x1="517.5" x2="571.5" y1="957.5151" y2="957.5151"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="55" x="517.5" y="968.3198">NONE: str</text><line style="stroke: #000000; stroke-width: 1.0;" x1="517.5" x2="572.5" y1="970.3198" y2="970.3198"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="512.5" x2="633.5" y1="974.9141" y2="974.9141"/><!--link command.Command to commands.example1.Command--><path d="M1067.08,180.33 C1092.51,194.37 1116.31,211.39 1136,232 C1207.22,306.57 1228.84,432.87 1235.31,494.7 " fill="none" id="command.Command-commands.example1.Command" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1063.77,186.5,1049.23,171.08,1070.21,174.07,1063.77,186.5" style="stroke: #A80036; stroke-width: 1.0;"/><!--link command.CommandInteractive to commands.example2.Command--><path d="M751.68,409.76 C723.41,439.91 693.86,471.42 671.98,494.76 " fill="none" id="command.CommandInteractive-commands.example2.Command" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="746.62,404.92,765.41,395.12,756.84,414.49,746.62,404.92" style="stroke: #A80036; stroke-width: 1.0;"/><!--link command.Command to command.CommandInteractive--><path d="M841,191.47 C841,204.74 841,218.59 841,231.99 " fill="none" id="command.Command-command.CommandInteractive" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="834,191.26,841,171.26,848,191.26,834,191.26" style="stroke: #A80036; stroke-width: 1.0;"/><!--link lib.StrEnum to lib.Regex--><path d="M460.74,784.72 C451.14,815.63 438.16,857.47 428.15,889.7 " fill="none" id="lib.StrEnum-lib.Regex" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="454.15,782.34,466.76,765.31,467.52,786.49,454.15,782.34" style="stroke: #A80036; stroke-width: 1.0;"/><!--link lib.StrEnum to lib.ResponseType--><path d="M494.95,783.58 C511.65,816.74 534.95,862.98 551.74,896.29 " fill="none" id="lib.StrEnum-lib.ResponseType" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="488.49,786.32,485.75,765.31,501,780.02,488.49,786.32" style="stroke: #A80036; stroke-width: 1.0;"/><!--link tumcsbot.TumCSBot to command.Command--><path d="M521.29,115 C555.74,115 590.9,115 624.71,115 " fill="none" id="tumcsbot.TumCSBot-command.Command" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="508.13,115,514.13,119,520.13,115,514.13,111,508.13,115" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="530.5" y="108.0669">commands</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="609.8113" y="111.7993">*</text><!--link tumcsbot.TumCSBot to lib--><path d="M275.14,152.23 C280.08,233.87 293.19,438.38 310,609 C311.415,623.365 313.1025,638.5931 314.8427,653.3897 C315.7127,660.788 316.596,668.0784 317.4649,675.099 C317.5735,675.9766 317.6819,676.85 317.79,677.7188 C317.8441,678.1532 317.8981,678.5865 317.952,679.0186 " fill="none" id="tumcsbot.TumCSBot-lib" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="317.952,679.0186,320.807,669.5927,317.333,674.0571,312.8685,670.5831,317.952,679.0186" style="stroke: #A80036; stroke-width: 1.0;"/><!--link commands.example1 to lib--><path d="M978.8968,552.3034 C978.6816,552.7488 978.4622,553.1991 978.2385,553.6538 C976.4487,557.2918 974.3856,561.2172 972.05,565.2638 C962.7075,581.45 949.005,599.575 931,609 C901.6,624.38 357.94,603.03 334,626 C315.96,643.305 313.74,671.1925 316.1375,695.0525 C316.4372,698.035 316.809,700.9546 317.2311,703.7827 C317.4422,705.1967 317.6658,706.5879 317.8993,707.9527 C317.9284,708.1233 317.9578,708.2934 317.9873,708.4632 " fill="none" id="commands.example1-lib" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="317.9873,708.4632,320.3882,698.9115,317.1317,703.5369,312.5062,700.2804,317.9873,708.4632" style="stroke: #A80036; stroke-width: 1.0;"/><!--link commands.example2 to lib--><path d="M326,593.1058 C326,593.8246 326,594.5468 326,595.2722 C326,596.7231 326,598.1868 326,599.6621 C326,611.4642 326,624.0012 326,636.5375 C326,638.1045 326,639.6716 326,641.2371 C326,641.4328 326,641.6285 326,641.8241 " fill="none" id="commands.example2-lib" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="326,641.8241,330,632.8241,326,636.8241,322,632.8241,326,641.8241" style="stroke: #A80036; stroke-width: 1.0;"/><!--link lib.DB to lib.Helper--><!--link lib.DB to lib.Response--><!--
@startuml

class tumcsbot.TumCSBot {
client: Client
__init__(zuliprc: str, db_path: str, debug: bool, logfile: Optional[str], **kwargs: str)
}

class commands.example1.Command extends command.Command {
__init__(**kwargs)
func(client: Client, event: Dict[str, Any], **kwargs): Tuple[str, Dict[str, Any]]
}

class commands.example2.Command extends command.CommandInteractive {
__init__(**kwargs)
handle_message(client: Client, message: Dict[str, Any], **kwargs: Any): Tuple[str, Dict[str, Any]]
}

abstract class command.Command {
{static} name: str
{static} events: List[str]
{abstract} __init__(**kwargs)
{abstract} func(client: Client, event: Dict[str, Any], **kwargs): Tuple[str, Dict[str, Any]]
is_responsible(event: Dict[str, Any]): bool
}

abstract class command.CommandInteractive extends command.Command {
{static} name: str
{static} syntax: str
{static} description: str
{static} events: List[str] = ['message']
{abstract} __init__(**kwargs)
{abstract} handle_message(client: Client,  message: Dict[str, Any], **kwargs: Any): Tuple[str, Dict[str, Any]]
func(client: Client, event: Dict[str, Any], **kwargs): Tuple[str, Dict[str, Any]]
get_usage(self): Tuple[str, str]
is_responsible(event: Dict[str, Any]): bool
}

enum lib.StrEnum

class lib.DB {
{static} path: Optional[str]
__init__(self)
checkout_table(table: str, schema: str)
checkout_row(table: str, key_column: str, key: str, default_values: str)
execute(command: str, commit: bool): List[Tuple[Any, ...]]
}

class lib.Helper {
{static} get_help(user: str): str
{static} extend_command_docs(docs: List[Tuple[str]])
}

class lib.Response {
{static} build_message(message: Dict[str, Any], response: str, type: Optional[str], to: Optional[str], subject: Optional[str]): Tuple[str, Dict[str, Any]]
{static} build_reaction(message: Dict[str, Any], emoji: str): Tuple[str, Dict[str, Any]]
{static} admin_err(message: Dict[str, Any]): Tuple[str, Dict[str, Any]]
{static} command_not_found(message: Dict[str, Any]): Tuple[str, Dict[str, Any]]
{static} error(message: Dict[str, Any]): Tuple[str, Dict[str, Any]]
{static} exception(message: Dict[str, Any]): Tuple[str, Dict[str, Any]]
{static} greet(message: Dict[str, Any]): Tuple[str, Dict[str, Any]]
{static} ok(message: Dict[str, Any]): Tuple[str, Dict[str, Any]]
{static} no(message: Dict[str, Any]): Tuple[str, Dict[str, Any]]
}

enum lib.Regex extends lib.StrEnum {
{static} FILE: str
{static} FILE_CAPTURE: str
{static} OPT_ASTERISKS: str
{static} STREAM: str
}

enum lib.ResponseType extends lib.StrEnum {
{static} MESSAGE: str
{static} EMOJI: str
{static} NONE: str
}

tumcsbot.TumCSBot o- "*" command.Command  : commands
tumcsbot.TumCSBot -down-> lib
commands.example1 -down-> lib
commands.example2 -down-> lib

@enduml

PlantUML version 1.2019.01(Sat Feb 09 16:32:04 CET 2019)
(LGPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 15.0.1+9
Operating System: Linux
OS Version: 5.9.13-200.fc33.x86_64
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>